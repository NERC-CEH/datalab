{"paragraphs":[{"title":"Introduction","text":"%md\nThis unix shell (`sh`) workbook will generate a rasterised GeoTIFF image from the aggrated Monte Carlo data. The variables are not scoped for the entire workbook, therefore the varaibles must be within the same code block. An exit value `143` denotes a time-out for the code block this can resolved by increasing the time-out value in the `sh` interpretor settings.","dateUpdated":"2017-08-01T11:41:04+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>This unix shell (<code>sh</code>) workbook will generate a rasterised GeoTIFF image from the aggrated Monte Carlo data. The variables are not scoped for the entire workbook, therefore the varaibles must be within the same code block. An exit value <code>143</code> denotes a time-out for the code block this can resolved by increasing the time-out value in the <code>sh</code> interpretor settings.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1501587664180_-1222576054","id":"20170731-093024_1203464098","dateCreated":"2017-08-01T11:41:04+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:4713"},{"text":"%sh\n# File paths\naggregatedResults=\"/data/lcm/results/aggregated_richness\"\noutputPath=\"/data/lcm/results/geotiff_aggregated_richness\"\n\n# Create output directory if missing\nif [ ! -d \"$outputPath\" ]; then\n    mkdir -p $outputPath\nfi\n\n# Add headers for result CSV\necho \"WKT,MODAL_CLASS,TOTRICH_78,TOTRICH_VAR_78,TOTRICH_90,TOTRICH_VAR_90,TOTRICH_98,TOTRICH_VAR_98,TOTRICH_07,TOTRICH_VAR_07\" > $outputPath/result.csv\n\n# Concatenate aggregated files to single CSV\ncat $aggregatedResults/part-* >> $outputPath/result.csv\n\n\n# Generate raster\ngdal_rasterize -a TOTRICH_07 -ts 3000 3000 -l result $outputPath/result.csv $outputPath/result.tif","dateUpdated":"2017-08-04T15:48:07+0000","config":{"colWidth":12,"editorMode":"ace/mode/sh","results":{},"enabled":true,"editorSetting":{"language":"sh","editOnDblClick":false}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"0...10...20...30...40...50...60...70...80...90...100 - done.\n"}]},"apps":[],"jobName":"paragraph_1501587664182_-1221806556","id":"20170728-160036_1290815023","dateCreated":"2017-08-01T11:41:04+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:4714"},{"text":"%sh\n","dateUpdated":"2017-08-01T11:41:04+0000","config":{"colWidth":12,"editorMode":"ace/mode/sh","results":{},"enabled":true,"editorSetting":{"language":"sh","editOnDblClick":false}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1501587664182_-1221806556","id":"20170731-090503_818056960","dateCreated":"2017-08-01T11:41:04+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:4715"}],"name":"LCM/5 - Generate GeoTIFF","id":"2CP68KA97","angularObjects":{"2CSFU9E9G:shared_process":[],"2CQ4AVG4N:shared_process":[],"2CNSKJG1U:shared_process":[],"2CR7BH9Z2:shared_process":[],"2CNXVPH7U:shared_process":[],"2CR76QHFE:shared_process":[],"2CNPUR3DR:shared_process":[],"2CQMCC7NG:shared_process":[],"2CSGTCZPB:shared_process":[],"2CPTG3MVE:shared_process":[],"2CPJK61N9:shared_process":[],"2CSFPSU2J:shared_process":[],"2CPRBJ3WG:shared_process":[],"2CR4K6C5S:shared_process":[],"2CPNQ932Q:shared_process":[],"2CQ529GAG:shared_process":[],"2CQM5DPV1:shared_process":[],"2CQCTW3BM:shared_process":[],"2CS91YE4D:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}